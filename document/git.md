# 一、Git

# 1.  分布式版本控制系统

## 1.1 特点

1. 基于服务器、客户端的运行模式
2. 服务器保存文件的所有更新版本(如GitHub、Gitee等)
3. 客户端是服务器的完整备份(本机电脑)

## 1.2 优点

1. 联网运行，支持多人协作开发

 	2. 客户端断网后支持离线本地提交版本更新
 	3. 服务器故障或损坏后，可使用任何一个客户端的备份进行恢复

## 1.3 典型代表 Git

```
除了分布式版本控制系统还包含本地版本控制系统和集中化的版本控制系统，其他两个版本控制系统，本人未学过，就不再介绍！
```

# 2. 什么是Git

1. Git 是一个开源的分布式版本控制系统
2. 官网下载：https://git-scm.com/downloads
3. 特点：项目越大越复杂，协同开发者越多，越能体现出Git 的高性能和高可用性！

# 3. Git高性能和高可用性原因

​	**两种原因：**

1. 直接记录快照，而非差异比较
2. 近乎所有操作都是本地执行

# 4. Git与SVN 的差异比较

SVN未了解过，反之SVN是一个传统的版本控制系统，知道Git流行就OK！

# 5. Git 的记录快照

Git 快照是在原有文件版本的基础上重新生成一份新的文件，类似于备份！

为了效率，如果文件没有修改，Git 不再重新存储该文件，而是只保留一个链接指向之前存储的文件！

# 6. Git 近乎所有操作都是本地执行

 	1. 断网后依旧可以在本地对项目进行版本管理
 	2. 联网后，把本地修改的记录同步到云端服务器即可

# 7. Git 中的三个区域

1. 工作区
   处理工作的区域
2. 暂存区
   已完成的工作的临时存放区域，等待被提交
3. Git 仓库
   最终的存放区域

# 8. Git 中的三种状态

1. 已修改
   表示修改了文件，但还没将修改的结果放到暂存区

2. 已暂存
   表示对已修改文件的当前版本做了标记，使之包含在下次提交的列表中

3. 已提交
   表示文件已经安全地保存在本地的Git 仓库中

4. 如何理解三种状态

   工作区的文件被修改了，但还没有放到暂存区，就是已修改状态
   如果文件已修改并放入暂存区，就属于已暂存状态
   如果Git 仓库中保存着特定版本的文件，就属于已提交状态

# 9. 配置用户信息

```
git config --global user.name 'yjxz'
git config --global user.email 'yjxz@3544839383@qq.com'

安装完Git 之后，要做的第一件事就是设置自己的用户名和邮件地址

因为通过Git 对项目进行版本管理的时候，Git 需要使用这些基本信息，来记录是谁对项目进行了操作：

如果使用了--global 选项，那么该命令只需要运行一次，即可永久生效
```

# 10. Git 的全局配置文件

```
通过git config --global user.name 和git config --global user.email配置的用户名和邮箱地址

会被写入到C:/Users/用户名文件夹/.gitconfig文件中

这个文件是Git 的全局配置文件，配置一次即可永久生
```

# 11. 检查配置信息

```
1. 查看所有的全局配置项
	git config --list --global

2. 查看指定的全局配置项
	git config user.name
	git config user.email
```

# 12. 获取帮助信息

```
git help <verb>（无需联网即可在浏览器中打开帮助手册）
例如：
	要想打开git config 命令的帮助手册
	git help config
	
如果不想查看完整的手册，那么可以用 -h 选项获得更简明的 help 输出：
要想获取 git config 命令的快速参考
git config -h
```

# 13. 获取Git 仓库的两种方式

1. 将尚未进行版本控制的本地目录转换为Git 仓库`git init`
2. 从其它服务器克隆一个已存在的Git 仓库`git clone`

# 14. 工作区中文件的 4 种状态

工作区中的每一个文件可能有4 种状态，这`四种状态`共分为`两大类`

![image-20221031000355247](assets\image-20221031000355247.png)

```
Git 操作的目标就是让工作区中的文件都处于“未修改”的状态
```

# 16. 一系列命令

```
1. 初始化git仓库
	git init
2. 检查文件的状态
	git status -s 或 git status
3. 跟踪新文件
	git add 文件名
4. 提交更新
	git commit -m '更新'
5. 撤销对文件的修改
	git checkout -- 文件名
6. 向暂存区中一次性添加多个文件
	git add .
7. 取消暂存的文件
	git reset HEAD 要移除的文件名称
8. 跳过使用暂存区域
	git commit -a -m '不暂存，直接提交'
9. 移除文件
	1. 从Git 仓库和工作区中同时移除对应的文件
		git rm -f 文件名
	2. 只从Git 仓库中移除指定的文件，但保留工作区中对应的文件
		git rm --cached 文件名
10. 忽略文件
	总会有些文件无需纳入Git 的管理，也不希望它们总出现在未跟踪文件列表
	在这种情况下，我们可以创建一个名为.gitignore的配置文件，列出要忽略的文件的匹配模式
	文件.gitignore 的格式规范如下：
		1. 以# 开头的是注释
		2. 以/结尾的是目录
		3. 以/开头防止递归
		4. 以!开头表示取反
		5. 可以使用glob 模式进行文件和文件夹的匹配（所谓的glob 模式是指简化了的正则表达式）
		glob模式：
			1. 星号* 匹配零个或多个任意字符
			2. [abc] 匹配任何一个列在方括号中的字符（此案例匹配一个a或匹配一个b 或匹配一个c）
			3. 问号?只匹配一个任意字符
			4. 在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如[0-9] 表示匹配所有0 到9 的数字）			   5. 两个星号** 表示匹配任意中间目录（比如a/**/z 可以匹配a/z 、a/b/z 或a/b/c/z 等）
```

**.gitignore 文件的例子如下图：**

![image-20221031002341834](assets\image-20221031002341834.png)

**11. 查看提交历史**

![image-20221031002733170](assets\image-20221031002733170.png)

**12. 回退到指定的版本**

![image-20221031002900355](assets\image-20221031002900355.png)

# 二、GitHub

# 1. 开源与闭源

## 	1. 开源

​			开源即开放源代码（Open source code）：不仅提供程序还提供程序的源代码，任何人都查看，修改和使用开源代码！

## 	2. 闭源

​			闭源即不开放源代码（Close source code）：只提供程序，不提供源代码，只有作者本人能对源代码进行修改！

# 2. 开源许可协议

​			开源并不意味着完全没有限制，为了限制使用者的使用范围和保护作者的权利，

​			每个开源项目都应该遵守开源许可协议（Open Source License ）

​			**常见的5 种开源许可协议如下图**

![image-20221031003605110](assets\image-20221031003605110.png)

**更多开源协议：**可以参考博客https://www.runoob.com/w3cnote/open-source-license.html

**开源的核心思想：**“我为人人，人人为我”，人们越喜欢开源大致出于以下 3 个原因：

	1. 开源给使用者更多的控制权
	2. 开源让学习变得容易
	3. 开源才有真正的安全

`开源`是软件开发领域的大趋势，拥抱开源就像站在了巨人的肩膀上，不用自己重复造轮子，让开发越来越容易

# 3. 开源项目托管平台

1. 专门用于免费存放开源项目源代码的网站，叫做开源项目托管平台

2. 目前世界上比较出名的开源项目托管平台主要有以下3 个：

   1. `Github`（全球最牛的开源项目托管平台，没有之一）

   2. `Gitlab`（对代码私有性支持较好，因此企业用户较多）

   3. `Gitee`（码云，是国产的开源项目托管平台。访问速度快、纯中文界面、使用友好）

      以上3 个开源项目托管平台，只能托管以Git 管理的项目源代码，因此，它们的名字都以Git 开头

# 4. 什么是Github

1. Github 是全球最大的开源项目托管平台
2. 因为只支持Git 作为唯一的版本控制工具，故名GitHub
3. Github ≠ Git
4. Github 可以做什么？
   1. 关注自己喜欢的开源项目，为其点赞打call
   2. 为自己喜欢的开源项目做贡献（Pull Request）
   3. 和开源项目的作者讨论Bug 和提需求（Issues）
   4. 把喜欢的项目复制一份作为自己的项目进行修改（Fork）
   5. 创建属于自己的开源项目
   6. etc…
5. Github能做的，其余Gitlab以及Gitee几乎也能做！

# 5. Github -注册账号

1. 访问Github 的官网首页：https://github.com/
2. 点击“Sign up”按钮跳转到注册页面
3. 填写可用的用户名、邮箱、密码
4. 通过点击箭头的形式，将验证图片摆正
5. 点击“Create account”按钮注册新用户
6. 登录到第三步填写的邮箱中，点击激活链接，完成注册
7. 新建空白仓库

# 6. 远程仓库的两种访问方式

Github 上的远程仓库有两种访问方式，分别是HTTPS和SSH：
	1. HTTPS：零配置；但是每次访问仓库时，需要重复输入Github 的账号和密码才能访问成功
	2. SSH：需要进行额外的配置；但是配置成功后，每次访问仓库时，不需重复输入Github 的账号和密码（实际开发推荐使用）	

# 7. 基于HTTPS 将本地仓库上传到Github

![image-20221031004548131](assets\image-20221031004548131.png)

# 8. SSH key

```
作用：
	实现本地仓库和Github 之间免登录的加密数据传输
好处：
	免登录身份认证、数据加密传输
两部分组成：
	1. id_rsa（私钥文件，存放于客户端的电脑中即可）
	2. id_rsa.pub（公钥文件，需要配置到Github 中）
生成SSH key：
	1. 打开Git Bash
	2. 粘贴如下的命令，并将your_email@example.com 替换为注册Github 账号时填写的邮箱：
		ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
	3. 连续敲击3 次回车，即可在C:\Users\用户名文件夹\.ssh目录中生成id_rsa和id_rsa.pub 两个文件
配置SSH key：
	1. 使用记事本打开id_rsa.pub文件，复制里面的文本内容
	2. 在浏览器中登录Github，点击头像-> Settings-> SSH and GPG Keys -> New SSH key
	3， 将id_rsa.pub 文件中的内容，粘贴到Key 对应的文本框中
	4. 在Title 文本框中任意填写一个名称，来标识这个Key 从何而来
检测Github 的SSH key 是否配置成功：
	ssh -T git@github.com
```

![image-20221031005125077](assets\image-20221031005125077.png)

# 9. 基于SSH 将本地仓库上传到Github

![image-20221031005211620](assets\image-20221031005211620.png)

# 10. 将远程仓库克隆到本地

`git clone `远程仓库的地址

# 三、Git 分支

# 1. 本地分支操作

## 1.1 如何理解分支

`分支`就是科幻电影里面的平行宇宙，当你正在电脑前努力学习`Git`的时候，另一个你正在另一个平行宇宙里努力学习`SVN`
如果两个平行宇宙互不干扰，那对现在的你也没啥影响，

不过，在某个时间点，两个平行宇宙合并了，结果，你既学会了Git又学会了SVN！

## 1.2. 分支在实际开发中的作用.

1. 在进行多人协作开发的时候，为了防止互相干扰，提高协同开发的体验，建议每个开发者都基于分支进行项目功能的开发

**如下图：**

![image-20221031005610276](assets\image-20221031005610276.png)

**master 主分支：**
在初始化本地Git 仓库的时候，Git 默认已经帮我们创建了一个名字叫做`master`的分支(`master`分支又称为`主分支`)
实际工作中，`master` 主分支的`作用`是：用来保存和记录整个项目已完成的功能代码
因此，不允许程序员直接在`master` 分支上`修改`代码，因为这样做的风险太高，容易导致整个项目崩溃

**功能分支：**
由于程序员不能直接在`master`分支上进行功能的开发，所以就有了功能分支的出现
`功能分支`指的是专门用来`开发新功能`的分支，它是`临时`从`master `主分支上分叉出来，
当`新功能开发`且`测试完毕`后，最终需要`合并`到`master` 主分支上，如图所示：

![image-20221031005916536](assets\image-20221031005916536.png)

**查看分支列表**
`git branch`
分支名字前面的`*`号表示当前所处的分支

![image-20221031010043489](assets\image-20221031010043489.png)

```
6. 创建新分支
	如下的命令，可以基于当前分支，创建一个新的分支，此时，新分支中的代码和当前分支完全一样：
	git branch 分支名称
7. 切换分支
	git checkout 分支名称
8. 分支的快速创建和切换
	git checkout -b 分支名称（git branch 分支名称 + git checkout 分支名称 的简写）
		-b: 表示创建一个新分支
		checkout：表示切换到刚才创建的分支上
9. 合并分支
	1. 切换到master分支
		git checkout master
	2. 在master分支上运行git merge命令，将 另外一个分支的代码合并到master分支上
		git merge 分支名称
	合并分支例子：
		假设要把C 分支的代码合并到A 分支，
		则必须先切换到A 分支上，
		再运行git merge 命令，来合并C 分支！
10. 删除分支
	当把功能分支的代码合并到master 主分支上以后，就可以使用如下的命令，删除对应的功能分支：
		git branch -d 分支名称

11. 遇到冲突时的分支合并
	如果在两个不同的分支中，对同一个文件进行了不同的修改，
	Git 就没法干净的合并它们，此时，我们需要打开这些包含冲突的文件然后手动解决冲突
```

**分支合并冲突问题如何解决：**

![image-20221031010905170](assets\image-20221031010905170.png)

# 2. 远程分支操作

**如果是第一次将本地分支推送到远程仓库，需要运行如下的命令：**

![image-20221031011001717](assets\image-20221031011001717.png)

总结：第一次推送分支需要带-u 参数，此后可以直接使用 `git push` 推送代码到远程分支

**1. 查看远程仓库中所有的分支列表**

```
git remote show 远程仓库名称
```

**2. 跟踪分支**

```
跟踪分支指的是：从远程仓库中，把远程分支下载到本地仓库中
```

![image-20221031011230889](assets\image-20221031011230889.png)

**3. 从远程仓库，拉取当前分支最新的代码，保持当前分支的代码和远程分支代码一致**

```
git pull
```

**4. 删除远程仓库中指定的分支**

![image-20221031011653518](assets\image-20221031011653518.png)

# 3. 查看本地|远程分支总结

```
git branch		列出所有本地分支
git branch -r	列出所有远程分支（当前关联的远程仓库所有远程分支，上面介绍过一个指定远程仓库的所有远程分支）
git branch -a	列出所有本地分支和远程分支
```

# 四、标签操作

```
1. 列出已有的标签
	git tag
2. 创建标签
 	git tag [name]
3. 将标签推送至远程仓库
	git push [shortName] [name]
4. 检出标签
 	git checkout -b [branch] [name]	
```

```
列出已有的标签可以使用命令：git tag
```

![image-20221031012334755](assets\image-20221031012334755.png)

```
创建标签可以使用命令：git tag [name]
```

![image-20221031012342528](assets\image-20221031012342528.png)

```
将标签推送至远程仓库的命令格式：git push [shortName] [name]
```

![image-20221031012402928](assets\image-20221031012402928.png)

```
检出标签时需要新建一个分支来指向某个标签，检出标签的命令格式：git checkout -b [branch] [name]
```

![image-20221031012414736](assets\image-20221031012414736.png)

# 五、在 IDEA 中使用 Git

# 1. 在 IDEA 中配置 Git

![image-20221031012950443](assets\image-20221031012950443.png)

# 2. 获取Git仓库

![image-20221031013021897](assets\image-20221031013021897.png)

# 3. 本地仓库操作

```
1. 将文件加入暂存区
2. 将暂存区的文件提交到版本库
3. 查看日志
```

# 4. 远程仓库操作

```
1. 查看远程仓库
2. 添加远程仓库
3. 推送至远程仓库
4. 从远程仓库拉取
```

# 5. 分支操作

```
1. 查看分支
2. 创建分支
3. 切换分支
4. 将分支推送到远程仓库
5. 合并分支
```

# 六、Git操作时可能出现的情况

**1. windows凭据问题**

​	git提交时，弹出windows凭据验证，输入账号密码无论对错，验证弹窗不再显示：

​	

